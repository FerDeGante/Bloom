{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/ferdegante/Documents/Proyectos/Bloom/src/pages/reservas.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useSession } from \"next-auth/react\";\nimport { useRouter } from \"next/router\";\nimport {\n  Container,\n  Form,\n  Button,\n  Alert,\n} from \"react-bootstrap\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\n\nconst servicios = [\n  { id: \"agua\", name: \"Estimulación en agua\" },\n  { id: \"piso\", name: \"Estimulación en piso\" },\n  { id: \"quiropractica\", name: \"Quiropráctica\" },\n  // … los demás servicios\n];\n\nconst terapeutas = [\n  { id: \"t1\", name: \"Terapeuta A\" },\n  { id: \"t2\", name: \"Terapeuta B\" },\n  // … luego los cargas dinámicamente desde tu API\n];\n\nexport default function ReservasPage() {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n\n  const [servicio, setServicio] = useState(\"\");\n  const [terapeuta, setTerapeuta] = useState(\"\");\n  const [fecha, setFecha] = useState<Date | null>(null);\n\n  // Redirige si no está autenticado\n  useEffect(() => {\n    if (status === \"unauthenticated\") {\n      router.replace(\"/login\");\n    }\n  }, [status, router]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    // Aquí llamas a tu API para crear la cita y rediriges al checkout de Stripe\n    // Ejemplo:\n    // const res = await fetch('/api/appointments', { method: 'POST', body: JSON.stringify({ servicio, terapeuta, fecha }) });\n    // const { sessionId } = await res.json();\n    // router.push(`/checkout?session_id=${sessionId}`);\n    console.log({ servicio, terapeuta, fecha });\n  };\n\n  if (status === \"loading\" || !session) {\n    return <Container className=\"py-5\">Cargando…</Container>;\n  }\n\n  return (\n    <Container className=\"py-5\" style={{ maxWidth: 600 }}>\n      <h2 className=\"mb-4 text-center\">Reservar cita</h2>\n      <Form onSubmit={handleSubmit}>\n        {/* Selección de servicio */}\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Servicio</Form.Label>\n          <Form.Select\n            value={servicio}\n            onChange={(e) => setServicio(e.target.value)}\n            required\n          >\n            <option value=\"\">Selecciona un servicio</option>\n            {servicios.map((s) => (\n              <option key={s.id} value={s.id}>\n                {s.name}\n              </option>\n            ))}\n          </Form.Select>\n        </Form.Group>\n\n        {/* Selección de terapeuta */}\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Terapeuta</Form.Label>\n          <Form.Select\n            value={terapeuta}\n            onChange={(e) => setTerapeuta(e.target.value)}\n            required\n          >\n            <option value=\"\">Selecciona un terapeuta</option>\n            {terapeutas.map((t) => (\n              <option key={t.id} value={t.id}>\n                {t.name}\n              </option>\n            ))}\n          </Form.Select>\n        </Form.Group>\n\n        {/* Calendario y hora */}\n        <Form.Group className=\"mb-4\">\n          <Form.Label>Fecha y hora</Form.Label>\n          <Calendar\n            onChange={(value: Date | Date[]) => {\n              // si devuelven un rango, tomamos el primer día\n              if (value instanceof Date) {\n                setFecha(value);\n              } else {\n                setFecha(value[0] ?? null);\n              }\n            }}\n            value={fecha}\n            minDate={new Date()}\n          />\n          {fecha && (\n            <Alert variant=\"info\" className=\"mt-2\">\n              Has seleccionado:{\" \"}\n              {fecha.toLocaleDateString()}{\" \"}\n              {fecha.toLocaleTimeString()}\n            </Alert>\n          )}\n        </Form.Group>\n\n        <Button type=\"submit\" className=\"w-100\">\n          Confirmar y pagar\n        </Button>\n      </Form>\n    </Container>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}